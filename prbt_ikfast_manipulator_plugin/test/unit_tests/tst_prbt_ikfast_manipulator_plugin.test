<launch>
  <arg name="debug" default="false"/>

  <!-- LOAD PARAMETERS REQUIRED FOR T-->


  <!-- Load universal robot description format (URDF) -->
  <param name="robot_description"
          command="$(find xacro)/xacro --inorder $(find prbt_support)/urdf/prbt.xacro"/>

  <!-- The semantic description that corresponds to the URDF -->
  <param name="robot_description_semantic" command="$(find xacro)/xacro --inorder
          $(find prbt_support)/config/prbt.srdf.xacro" />

  <!-- Load updated joint limits (override information from URDF) -->
  <group ns="robot_description_planning">
    <rosparam command="load" file="$(find prbt_support)/config/joint_limits.yaml"/>
  </group>

  <!-- Load default settings for kinematics; these settings are overridden by settings in a node's namespace -->
  <group ns="robot_description_kinematics">
    <rosparam command="load" file="$(find prbt_support)/config/kinematics.yaml"/>
  </group>



  <test unless="$(arg debug)" pkg="prbt_ikfast_manipulator_plugin" type="unittest_prbt_ikfast_manipulator_plugin" test-name="unittest_prbt_ikfast_manipulator_plugin">
    <param name="tip_link" value="prbt_flange" />
    <param name="root_link" value="prbt_base_link" />
    <param name="group" value="manipulator" />
    <param name="ik_plugin_name" value="prbt_manipulator/IKFastKinematicsPlugin" />
    <rosparam param="joint_names">[prbt_joint_1, prbt_joint_2, prbt_joint_3, prbt_joint_4, prbt_joint_5, prbt_joint_6]</rosparam>
  </test>
  <test if="$(arg debug)" pkg="prbt_ikfast_manipulator_plugin" type="unittest_prbt_ikfast_manipulator_plugin" test-name="unittest_prbt_ikfast_manipulator_plugin"
        launch-prefix="xterm -e gdb -args">
    <param name="tip_link" value="prbt_flange" />
    <param name="root_link" value="prbt_base_link" />
    <param name="group" value="manipulator" />
    <param name="ik_plugin_name" value="prbt_manipulator/IKFastKinematicsPlugin" />
    <rosparam param="joint_names">[prbt_joint_1, prbt_joint_2, prbt_joint_3, prbt_joint_4, prbt_joint_5, prbt_joint_6]</rosparam>
  </test>
</launch>
